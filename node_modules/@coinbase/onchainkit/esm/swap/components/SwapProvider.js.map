{"version":3,"file":"SwapProvider.js","sources":["../../../src/swap/components/SwapProvider.tsx"],"sourcesContent":null,"names":["emptyContext","SwapContext","createContext","useSwapContext","context","useContext","Error","SwapProvider","children","config","maxSlippage","FALLBACK_DEFAULT_MAX_SLIPPAGE","experimental","isSponsored","onError","onStatus","onSuccess","paymaster","undefined","useOnchainKit","address","chainId","useAccount","switchChainAsync","useSwitchChain","useAggregator","accountConfig","useConfig","walletCapabilities","useCapabilitiesSafe","base","id","lifecycleStatus","updateLifecycleStatus","useLifecycleStatus","statusName","statusData","isMissingRequiredField","isToastVisible","setIsToastVisible","useState","transactionHash","setTransactionHash","hasHandledSuccess","setHasHandledSuccess","from","to","useFromTo","sendTransactionAsync","useSendTransaction","sendCallsAsync","useSendCalls","resetInputs","useResetInputs","awaitCallsStatus","useAwaitCalls","sendAnalytics","useAnalytics","useEffect","SwapEvent","SwapFailure","error","metadata","transactionReceipt","SwapSuccess","amount","Number","token","symbol","transactionType","handleToggle","useCallback","setAmount","setToken","amountFrom","amountTo","tokenFrom","tokenTo","handleAmountChange","type","sToken","dToken","source","destination","parseFloat","setAmountUSD","setLoading","response","getSwapQuote","amountReference","String","RequestContext","Swap","isSwapError","code","message","formattedAmount","formatTokenAmount","toAmount","decimals","toAmountUSD","fromAmountUSD","err","JSON","stringify","handleSubmit","SwapInitiated","buildSwapTransaction","fromAddress","processSwapTransaction","swapTransaction","errorMessage","isUserRejectedRequestError","GENERIC_ERROR_MESSAGE","value","useValue","_jsx","Provider"],"mappings":"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"}