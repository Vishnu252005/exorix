{"version":3,"file":"TransactionProvider.js","sources":["../../../src/transaction/components/TransactionProvider.tsx"],"sourcesContent":null,"names":["emptyContext","TransactionContext","createContext","useTransactionContext","context","useContext","Error","TransactionProvider","calls","capabilities","transactionCapabilities","chainId","children","contracts","isSponsored","onError","onStatus","onSuccess","resetAfter","account","useAccount","config","useConfig","paymaster","undefined","useOnchainKit","errorMessage","setErrorMessage","useState","errorCode","setErrorCode","isToastVisible","setIsToastVisible","lifecycleStatus","setLifecycleStatus","statusName","statusData","transactionId","setTransactionId","transactionCount","setTransactionCount","transactionHashList","setTransactionHashList","transactions","walletCapabilities","useCapabilitiesSafe","switchChainAsync","useSwitchChain","status","statusSendCalls","sendCallsAsync","reset","resetSendCalls","useSendCalls","statusSendCall","sendCallAsync","data","singleTransactionHash","resetSendCall","useSendCall","transactionStatus","useMemo","Capabilities","AtomicBatch","supported","paymasterService","url","sendWalletTransactions","useSendWalletTransactions","transactionHash","batchedTransactionHash","callStatus","useCallsStatus","receipt","useWaitForTransactionReceipt","hash","sendAnalytics","useAnalytics","handleAnalytics","useCallback","event","useEffect","message","code","transactionReceipts","timeoutId","setTimeout","clearTimeout","getTransactionLegacyReceipts","receipts","txnReceipt","waitForTransactionReceipt","push","err","error","JSON","stringify","GENERIC_ERROR_MESSAGE","length","switchChain","targetChainId","buildTransaction","TransactionEvent","TransactionInitiated","address","resolvedTransactions","Promise","resolve","TransactionFailure","metadata","handleSubmit","isUserRejectedRequestError","value","useValue","isLoading","onSubmit","paymasterUrl","getPaymasterUrl","TransactionSuccess","Boolean","_jsx","Provider"],"mappings":"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"}